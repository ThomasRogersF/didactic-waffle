<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Audio Button</title>
  <style>
    html, body { margin:0; padding:0; background:transparent; }
    body { display:grid; place-items:center; width:100vw; height:100vh; }
    .btn{
      width: var(--size);
      height: var(--size);
      border-radius: 999px;
      border: 0;
      background:#111;
      color:#fff;
      display:grid;
      place-items:center;
      cursor:pointer;
      user-select:none;
      box-shadow: 0 8px 20px rgba(0,0,0,.18);
      -webkit-tap-highlight-color: transparent;
    }
    .icon{ width: calc(var(--size) * 0.42); height: calc(var(--size) * 0.42); fill:#fff; }
  </style>
</head>
<body>
  <button class="btn" id="toggle" aria-label="Play audio">
    <svg id="play" class="icon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
    <svg id="pause" class="icon" viewBox="0 0 24 24" style="display:none"><path d="M6 5h4v14H6zm8 0h4v14h-4z"/></svg>
  </button>
  <audio id="audio" preload="metadata"></audio>

  <script>
    const p = new URLSearchParams(location.search);
    const src = p.get("src") || "";
    const size = parseInt(p.get("size") || "56", 10);

    document.documentElement.style.setProperty("--size", `${Math.max(32, Math.min(size, 140))}px`);

    const audio = document.getElementById("audio");
    const btn = document.getElementById("toggle");
    const play = document.getElementById("play");
    const pause = document.getElementById("pause");

    if (!src) { btn.disabled = true; btn.title = "Add ?src=YOUR_MP3_URL"; }
    else { audio.src = src; }

    const set = (isPlaying) => {
      play.style.display = isPlaying ? "none" : "block";
      pause.style.display = isPlaying ? "block" : "none";
      btn.setAttribute("aria-label", isPlaying ? "Pause audio" : "Play audio");
    };

    btn.addEventListener("click", async () => {
      if (audio.paused) { await audio.play(); set(true); }
      else { audio.pause(); set(false); }
    });
    audio.addEventListener("ended", () => set(false));
  </script>
</body>
</html>